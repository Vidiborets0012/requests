{"version":3,"file":"01-basic.js","sources":["../src/js/01-basic.js"],"sourcesContent":["/**\n *\n * Основи запиту\n * - Fetch API\n *\n * - URL запиту\n * - Вкладка Network\n *\n * - Обробка відповіді response (404 з fetch)\n *\n *\n * https://jsonplaceholder.typicode.com/todos\n */\n\n// console.log(fetch(`https://jsonplaceholder.typicode.com/todos`)); //Promise {<pending>}\n\nconst list = document.querySelector('.todo-list');\nconst URL = 'https://jsonplaceholder.typicode.com/todos';\n\n/*\n// const params = new URLSearchParams({\n//   _limit: 10,\n//   _page: 2,\n// });\n\n//https://jsonplaceholder.typicode.com/todos?_limit=10&_page=2\n// `${URL}?params`\nfetch(`${URL}?_limit=10&_page=2`)\n  .then(res => {\n    // console.log(res); //Response {type: 'cors', url: 'https://jsonplaceholder.typicode.com/todos', redirected: false, status: 200, ok: true, …}\n    // console.log(res.json()); //Promise {<pending>}\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n\n    return res.json();\n  })\n  .then(data => {\n    console.log(data);\n    list.insertAdjacentHTML('beforeend', createMarkup(data));\n  })\n  .catch(error => {\n    console.log(error);\n  });\n*/\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({ id, title, completed }) => `\n  <li class='list-item' data-id='${id}'>\n    <input type='checkbox' ${completed && 'checked'}/>\n    <p>${title}</p>\n  </li>`\n    )\n    .join('');\n}\n\n//Всередині функції запит, зовні обробка\n\nfunction fetchData(url) {\n  return fetch(url).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n\n    return res.json();\n  });\n}\n\nfetchData(`https://jsonplaceholder.typicode.com/todos`)\n  .then(data => {\n    console.log('todos:', data);\n    list.insertAdjacentHTML('beforeend', createMarkup(data));\n  })\n  .catch(error => {\n    console.log(error);\n  });\n\nfetchData(`https://jsonplaceholder.typicode.com/posts`)\n  .then(data => {\n    console.log('posts:', data);\n  })\n  .catch(error => {\n    console.log(error);\n  });\n"],"names":["list","createMarkup","arr","id","title","completed","fetchData","url","res","data","error"],"mappings":"oDAgBA,MAAMA,EAAO,SAAS,cAAc,YAAY,EA8BhD,SAASC,EAAaC,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CAAE,GAAAC,EAAI,MAAAC,EAAO,UAAAC,CAAW,IAAK;AAAA,mCACDF,CAAE;AAAA,6BACRE,GAAa,SAAS;AAAA,SAC1CD,CAAK;AAAA,QAET,EACA,KAAK,EAAE,CACZ,CAIA,SAASE,EAAUC,EAAK,CACtB,OAAO,MAAMA,CAAG,EAAE,KAAKC,GAAO,CAC5B,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAG5B,OAAOA,EAAI,MACf,CAAG,CACH,CAEAF,EAAU,4CAA4C,EACnD,KAAKG,GAAQ,CACZ,QAAQ,IAAI,SAAUA,CAAI,EAC1BT,EAAK,mBAAmB,YAAaC,EAAaQ,CAAI,CAAC,CAC3D,CAAG,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACrB,CAAG,EAEHJ,EAAU,4CAA4C,EACnD,KAAKG,GAAQ,CACZ,QAAQ,IAAI,SAAUA,CAAI,CAC9B,CAAG,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACrB,CAAG"}